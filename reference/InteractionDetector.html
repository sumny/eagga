<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Interaction Detector
Interaction Detector"><title>Interaction Detector — InteractionDetector • eagga</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Interaction Detector — InteractionDetector"><meta property="og:description" content="Interaction Detector
Interaction Detector"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">eagga</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Interaction Detector</h1>
      
      <div class="d-none name"><code>InteractionDetector.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Interaction Detector</p>
<p>Interaction Detector</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Detects important pairwise interactions using a simple interaction detector inspired by the more sophisticated
methodology proposed in Lou et al. (2013).</p>
<p>In contrast to the original FAST algorithm, this detector is a crude implementation.
It discretizes all features based on relatively small grid sizes, and the same unique grid values are used as
potential cut points to find the best pair of cut points for each feature pair that results in the largest decrease
in the residual sum of squares.</p>
<p>Additionally, please note that targets are simply converted to numeric values in the case of a <a href="https://mlr3.mlr-org.com/reference/TaskClassif.html" class="external-link">mlr3::TaskClassif</a>, instead of working on
logits or model outputs of a previously computed proxy model.</p>
<p>Overall, it is important to remember that this detector is solely used to initialize the group structures of the initial population
within <a href="mlr_tuner_eagga.html">TunerEAGGA</a>. Therefore, some impreciseness is acceptable.</p>
<p>This interaction detector only works with integer or numeric features. Logical features must be converted to integers.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    
<ul><li><p>Lou, Yin, Caruana, Rich, Gehrke, Johannes, Hooker, Giles (2013).
“Accurate Intelligible Models with Pairwise Interactions.”
In <em>Proceedings of the 19th ACM SIGKDD International Conference on Knowledge Discovery and Data Mining</em>, 623--631.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="public-fields">Public fields<a class="anchor" aria-label="anchor" href="#public-fields"></a></h2>
    <p></p><div class="r6-fields"><dl><dt><code>xs</code></dt>
<dd><p>(<a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table</a>)<br>
Data.table of features from the <a href="https://mlr3.mlr-org.com/reference/Task.html" class="external-link">mlr3::Task</a>.
Note that feature values of each feature are discretized based on the corresponding feature grid in <code>$grids</code>.</p></dd>


<dt><code>n_features</code></dt>
<dd><p>(integer(1))<br>
Number of features in the <a href="https://mlr3.mlr-org.com/reference/Task.html" class="external-link">mlr3::Task</a>.</p></dd>


<dt><code>feature_names</code></dt>
<dd><p>(character()) <br>
Names of the features in the <a href="https://mlr3.mlr-org.com/reference/Task.html" class="external-link">mlr3::Task</a>.</p></dd>


<dt><code>feature_types</code></dt>
<dd><p>(character()) <br>
Original types of the features in the <a href="https://mlr3.mlr-org.com/reference/Task.html" class="external-link">mlr3::Task</a> prior to discretization.</p></dd>


<dt><code>y</code></dt>
<dd><p>(numeric())<br>
Numeric target vector of the <a href="https://mlr3.mlr-org.com/reference/Task.html" class="external-link">mlr3::Task</a>.
In the case of a <a href="https://mlr3.mlr-org.com/reference/TaskClassif.html" class="external-link">mlr3::TaskClassif</a>, the label is simply converted to numeric.</p></dd>


<dt><code>grids</code></dt>
<dd><p>(list())<br>
List of grids containing a grid for each feature.
Grids are constructed by computing quantiles on the feature with probabilities ranging from
<code>seq(from = 0, to = 1, length.out = grid_size)</code>.
For integer features, the resulting quantiles are rounded to the nearest integer, and the unique
values are taken, which may result in a grid of smaller size than <code>grid_size</code>.</p></dd>


<dt><code>cuts</code></dt>
<dd><p>(list())<br>
List of cut points containing cut points for each feature.
Cut points for features are based on their unique values after discretization using their corresponding grid.</p></dd>


<dt><code>rss</code></dt>
<dd><p>(matrix())<br>
Symmetric numeric matrix of dimensions <code>n_features</code> by <code>n_features</code> containing the reduction in the residual sum
of squares for each pair of features.
<code>NULL</code> after construction.
To compute this, use <code>$compute_best_rss</code>.</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-InteractionDetector-new"><code>InteractionDetector$new()</code></a></p></li>
<li><p><a href="#method-InteractionDetector-compute_best_rss"><code>InteractionDetector$compute_best_rss()</code></a></p></li>
<li><p><a href="#method-InteractionDetector-get_eqcs_from_top_k"><code>InteractionDetector$get_eqcs_from_top_k()</code></a></p></li>
<li><p><a href="#method-InteractionDetector-clone"><code>InteractionDetector$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-InteractionDetector-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Creates a new instance of this <a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6</a> class.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/InteractionDetector.html">InteractionDetector</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">task</span>, grid_size <span class="op">=</span> <span class="fl">11L</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>task</code></dt>
<dd><p>(<a href="https://mlr3.mlr-org.com/reference/Task.html" class="external-link">mlr3::Task</a>)<br>
The task.</p></dd>


<dt><code>grid_size</code></dt>
<dd><p>(integer(1))<br>
The grid size used to construct a grid for each feature.
The default value is <code>11</code>.
A grid for a feature is constructed by computing quantiles on the feature with probabilities ranging from
<code>seq(from = 0, to = 1, length.out = grid_size)</code>.
If there are not at least three unique grid values that can be found based on quantiles (resulting in at least two bins
for the discretized feature), the range of the feature is split into two intervals of equal width, and the corresponding
interval points are used as grid values as a fallback.
For integer features, the resulting quantiles are rounded to the nearest integer.
Grid values are always assumed to be unique.
Therefore, the actual number of unique grid values may be smaller than <code>grid_size</code>.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-InteractionDetector-compute_best_rss"></a><div class="section">
<h3 id="method-compute-best-rss-">Method <code>compute_best_rss()</code><a class="anchor" aria-label="anchor" href="#method-compute-best-rss-"></a></h3>
<p>Method to compute the reduction in the residual sum of squares for each pair of features, overwriting <code>$rss</code>.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">InteractionDetector</span><span class="op">$</span><span class="fu">compute_best_rss</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>Invisible (NULL)</p>
</div>

</div><p></p><hr><a id="method-InteractionDetector-get_eqcs_from_top_k"></a><div class="section">
<h3 id="method-get-eqcs-from-top-k-">Method <code>get_eqcs_from_top_k()</code><a class="anchor" aria-label="anchor" href="#method-get-eqcs-from-top-k-"></a></h3>
<p>Retrieves equivalence classes (groups of features) based on the top k most important pairwise interactions.
The interactions are determined by the reduction in the residual sum of squares for each pair of features.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">InteractionDetector</span><span class="op">$</span><span class="fu">get_eqcs_from_top_k</span><span class="op">(</span>k <span class="op">=</span> <span class="fl">1L</span>, features <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>k</code></dt>
<dd><p>(integer(1))<br>
The number of top interactions to consider.
The default value is <code>1</code>.</p></dd>


<dt><code>features</code></dt>
<dd><p>(character() | NULL)<br>
The features to consider for detecting interactions.
If not provided, all features will be used (default).</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>A named integer vector indicating the equivalence class each feature belongs to.</p>
</div>

</div><p></p><hr><a id="method-InteractionDetector-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">InteractionDetector</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Lennart Schneider.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

